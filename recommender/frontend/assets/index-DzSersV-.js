(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();async function d(){const n=document.getElementById("song-name").value.trim(),r=document.getElementById("error-msg"),s=document.getElementById("recommendations");if(r.textContent="",s.innerHTML="",!n){r.textContent="Please enter a song name.";return}try{const e=await fetch(`http://127.0.0.1:8000/api/recommend/?song_name=${encodeURIComponent(n)}`);if(!e.ok){const o=await e.json();r.textContent=o.error||"An error occurred.";return}const t=await e.json();if(t.length===0){r.textContent="No recommendations found.";return}t.forEach(o=>{const i=document.createElement("li");i.textContent=`${o.song} by ${o.artist}`,s.appendChild(i)})}catch(e){console.error("Fetch error:",e),r.textContent="Server error. Please try again later."}}document.addEventListener("DOMContentLoaded",()=>{var c,n;(c=document.getElementById("recommend-btn"))==null||c.addEventListener("click",d),(n=document.getElementById("song-name"))==null||n.addEventListener("keydown",r=>{r.key==="Enter"&&d()})});
